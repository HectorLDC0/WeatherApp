(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function c(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(t){if(t.ep)return;t.ep=!0;const n=c(t);fetch(t.href,n)}})();document.querySelector("#landing-search").addEventListener("keydown",async e=>{if(e.key==="Enter"||e.keyCode===13){e.preventDefault();const r=document.querySelector("#landing-search").value.trim();r?await a(r)&&(document.querySelector("#search").value=r,document.getElementById("landing-page").style.display="none",document.getElementById("weather-display").style.display="grid"):alert("type a city")}});document.querySelector("#search").addEventListener("keydown",async e=>{if(e.key==="Enter"||e.keyCode===13){e.preventDefault();const r=document.querySelector("#search").value.trim();r?await a(r):alert("type a city")}});async function a(e){const c=`https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(e)}&appid=3dcc8d4c19d0e773ff0a55403be09d8c&units=metric`;try{const o=await fetch(c);if(console.log("Status:",o.status),!o.ok)throw new Error(`HTTP error! Status: ${o.status}`);const t=await o.json();return console.log("Dada received:",t),t.main&&t.name?(l({city:t.name,temperature:t.main.temp,tempMax:t.main.temp_max,tempMin:t.main.temp_min,humidity:t.main.humidity,wind:t.wind.speed,clouds:t.clouds.all}),s(t.main.temp),!0):(alert("invalid or incomplete data."),!1)}catch(o){return console.error("Error:",o),o.message.includes("404")?alert("City not found! Verify and try again."):alert(`Error to connect with API: ${o.message}`),!1}}function l(e){document.querySelector("#city_name").innerHTML=`${e.city}`,document.querySelector("#temp").innerHTML=`${Math.round(e.temperature)}<sup>0</sup>`,document.querySelector("#highest").innerHTML=`${Math.round(e.tempMax)}°`,document.querySelector("#low").innerHTML=`${Math.round(e.tempMin)}°`,document.querySelector("#air").innerHTML=`${e.humidity} %`,document.querySelector("#wind").innerHTML=`${Math.round(e.wind)} Km/h`,document.querySelector("#cloud").innerHTML=`${e.clouds} %`}function s(e){const r=document.querySelector(".ball");e>32?r.style.backgroundColor="rgb(207, 2, 1)":e>=27&&e<=31?r.style.backgroundColor="rgb(255, 115, 0)":e>=21&&e<=26?r.style.backgroundColor="rgb(255, 238, 0)":e>=14&&e<=20?r.style.backgroundColor="rgb(0, 230, 11)":e>=5&&e<=13?r.style.backgroundColor="rgb(0, 107, 230)":e<=4&&(r.style.backgroundColor="rgb(69, 13, 173)")}
